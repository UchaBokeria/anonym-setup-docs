<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>Anonym Setup Documentation</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
		<meta name="description" content="Description">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
		<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/style.min.css" title="docsify-darklight-theme" type="text/css" />
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/win-tm/docsify-display-colors@main/docsify-display-colors.min.css">
		<link rel="stylesheet" href="custom-styles.css">
		<script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
	</head>
	<body>
		<div id="app"></div>
		<script>
			window.$docsify = {
				name: 'Anonym-Setup',
				loadSidebar: true,
				auto2top: true,
				repo: 'github.com/uchabokeria/anonym-setup-docs',

				// Enhanced search configuration
				search: {
					maxAge: 86400000,
					paths: 'auto',
					placeholder: 'Search documentation...',
					noData: 'No results found',
					depth: 6,
					hideOtherSidebarContent: false
				},

				// Copy code configuration
				copyCode: {
					buttonText: 'Copy',
					errorText: 'Error',
					successText: 'Copied!',
				},

				// Pagination configuration
				pagination: {
					previousText: '‚Üê Previous',
					nextText: 'Next ‚Üí',
					crossChapter: true,
					crossChapterText: true
				},


				// Mermaid configuration
				mermaidConfig: {
					querySelector: ".mermaid",
					theme: 'base',
					themeVariables: {
						primaryColor: '#f5f5f5',
						primaryTextColor: '#1a1a1a',
						primaryBorderColor: '#666666',
						lineColor: '#666666',
						secondaryColor: '#e0e0e0',
						tertiaryColor: '#ffffff',
						fontFamily: '-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'
					}
				},

				mermaidZoom: {
					minimumScale: 1,
					maximumScale: 5,
					zoomPannel: true
				}
			}
		</script>

		<!-- Core Docsify -->
		<script src="//cdn.jsdelivr.net/npm/docsify@4"></script>

		<!-- Theme -->
		<script src="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js" type="text/javascript"></script>

		<!-- Search Plugin -->
		<script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>

		<!-- Pagination Plugin -->
		<script src="//cdn.jsdelivr.net/npm/docsify-pagination/dist/docsify-pagination.min.js"></script>

		<!-- Content Plugins -->
		<script src="https://cdn.jsdelivr.net/npm/docsify-tabs@1"></script>
		<script src="https://unpkg.com/docsify-copy-code@2"></script>
		<script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
		<script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>

		<!-- Mermaid Diagrams with Dark Mode Support -->
		<script type="module">
			import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
			
			// Function to get current theme
			function getCurrentTheme() {
				return document.documentElement.getAttribute('data-theme') || 'light';
			}
			
			// Function to get theme variables based on current theme
			function getThemeVariables() {
				const isDark = getCurrentTheme() === 'dark';
				return isDark ? {
					primaryColor: '#252525',
					primaryTextColor: '#e0e0e0',
					primaryBorderColor: '#808080',
					lineColor: '#808080',
					secondaryColor: '#2a2a2a',
					tertiaryColor: '#1a1a1a',
					background: '#1a1a1a',
					mainBkg: '#252525',
					textColor: '#e0e0e0',
					nodeBorder: '#808080',
					clusterBkg: '#2a2a2a',
					clusterBorder: '#808080',
					edgeLabelBackground: '#252525'
				} : {
					primaryColor: '#f5f5f5',
					primaryTextColor: '#1a1a1a',
					primaryBorderColor: '#666666',
					lineColor: '#666666',
					secondaryColor: '#e0e0e0',
					tertiaryColor: '#ffffff',
					background: '#ffffff',
					mainBkg: '#f5f5f5',
					textColor: '#1a1a1a',
					nodeBorder: '#666666',
					clusterBkg: '#fafafa',
					clusterBorder: '#666666',
					edgeLabelBackground: '#f5f5f5'
				};
			}
			
			// Initialize Mermaid
			mermaid.initialize({ 
				startOnLoad: true,
				theme: 'base',
				themeVariables: getThemeVariables()
			});
			
			// Re-render Mermaid diagrams when theme changes
			const observer = new MutationObserver((mutations) => {
				mutations.forEach((mutation) => {
					if (mutation.attributeName === 'data-theme') {
						mermaid.initialize({ 
							startOnLoad: true,
							theme: 'base',
							themeVariables: getThemeVariables()
						});
						// Re-render all mermaid diagrams
						document.querySelectorAll('.mermaid').forEach((element) => {
							const content = element.getAttribute('data-original-content') || element.textContent;
							element.setAttribute('data-original-content', content);
							element.removeAttribute('data-processed');
							element.innerHTML = content;
						});
						mermaid.run();
					}
				});
			});
			
			observer.observe(document.documentElement, {
				attributes: true,
				attributeFilter: ['data-theme']
			});
			
			window.mermaid = mermaid;
		</script>
		<script src="//unpkg.com/docsify-mermaid@2.0.1/dist/docsify-mermaid.js"></script>
		<script src="//unpkg.com/docsify-mermaid-zoom/dist/docsify-mermaid-zoom.js"></script>

		<!-- Utility Plugins -->
		<script src="https://cdn.jsdelivr.net/gh/win-tm/docsify-display-colors@main/docsify-display-colors.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/docsify-terminal-block@1.0.3"></script>
		<script src="//cdn.jsdelivr.net/npm/prismjs@1/components/prism-bash.min.js"></script>

		<!-- Custom Page Actions Menu -->
		<script>
			window.$docsify = window.$docsify || {};
			window.$docsify.plugins = [].concat(window.$docsify.plugins || [], function(hook) {
				hook.doneEach(function() {
					// Create page actions menu if it doesn't exist
					if (!document.querySelector('.page-actions-menu')) {
						const menu = document.createElement('div');
						menu.className = 'page-actions-menu';
						menu.innerHTML = `
							<button class="action-btn" onclick="copyPageContent()" title="Copy page content">
								<span>üìã</span>
							</button>
							<button class="action-btn" onclick="window.print()" title="Print page">
								<span>üñ®Ô∏è</span>
							</button>
						`;
						document.body.appendChild(menu);
					}
				});
			});

			// Copy page content function
			function copyPageContent() {
				const content = document.querySelector('.markdown-section').innerText;
				navigator.clipboard.writeText(content).then(() => {
					const btn = event.target.closest('.action-btn');
					const originalHTML = btn.innerHTML;
					btn.innerHTML = '<span>‚úì</span>';
					setTimeout(() => {
						btn.innerHTML = originalHTML;
					}, 1500);
				}).catch(err => {
					alert('Failed to copy: ' + err);
				});
			}
		</script>
	</body>
</html>
